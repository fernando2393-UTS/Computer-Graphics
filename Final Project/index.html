<!DOCTYPE html>
<html lang="en">


<!--
______________________________________________________________________________________________________________________
F I N A L   P R O J E C T
Computer Graphics

@author Alexander Ebner
@author Hendrik Hangen
@author Fernando GarcÃ­a
@author Marlies Wagner
  
This project is submitted by the abovementioned authors as their final project for 32501 Computer Graphics, Autumn 2018
The structure of the files and code is as follows:
  - index.html contains the HTML-Webpage and the main Javascript application
  - folder 'css' contains the css stylesheet for the HTML-Webpage 
  - folder 'js' contains all referenced scripts
  - folder 'Final Modals' ???????
  - folder 'img' contains all the textures and images used for this project

_____________________________________________________________________________________________________________________
-->


<html>

<head>
  <meta charset="utf-8" />
  <title>Final Computer Graphics Project</title>
  <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>
  <script src="js/three.js"></script>
  <script src="js/OrbitControls.js"></script>
  <script src="js/PLYLoader.js"></script>
  <script src="js/dat.gui.min.js"></script>
  <script src="js/house.js"></script>
  <script src="js/gui.js"></script>
  <script src="js/modeladder.js"></script>
  <script src="js/selector.js"></script>
  <script src="js/meshOps.js"></script>
  <script src="js/keyDown.js"></script>

  <script>
    var scene;
    var camera;
    var cameraLight;
    var renderer;


    createScene();
    addCamera();

    addFloor();
    addWalls();
    addDoors();
    addWindows();
    addLighting();

    buildGui();

    //updateTexture(floor, 'http://localhost:8000/img/txtr_wood2.jpg', WallSideEnum.top, 10);



    var resize = function () {
      var width = window.innerWidth;
      var height = window.innerHeight;
      renderer.setSize(width, height);
      camera.aspect = width / height;
      camera.updateProjectionMatrix();
      renderer.render(scene, camera);
    }

    var updateLoop = function () {
      controls.update();
      renderer.render(scene, camera);
      requestAnimationFrame(updateLoop);
    };

    var render = function () {
      requestAnimationFrame(render);
      renderer.render(scene, camera);
    };

    requestAnimationFrame(updateLoop);
    window.addEventListener('resize', resize);


    function createScene() {
      scene = new THREE.Scene();
      scene.background = new THREE.Color(0x93C47D);
      renderer = new THREE.WebGLRenderer();
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.shadowMap.enabled = true;
      renderer.shadowMap.type = THREE.PCFSoftShadowMap;
      document.body.appendChild(renderer.domElement);
    }

    function addCamera() {
      var ratio = window.innerWidth / window.innerHeight;
      camera = new THREE.PerspectiveCamera(45, ratio, 0.1, 2000);
      camera.position.set(60, 25, 60);
      cameraLight = new THREE.PointLight(new THREE.Color(1, 1, 1), (0.2));
      camera.add(cameraLight);
      scene.add(camera);
      controls = new THREE.OrbitControls(camera);
      /*
      var ratio = window.innerWidth / window.innerHeight;
      camera = new THREE.PerspectiveCamera(45, ratio, 0.1, 2000);
      camera.position.set(60, 25, 60);
      cameraLight = new THREE.PointLight(new THREE.Color(1, 1, 1), (0.2));
      camera.add(cameraLight);
      scene.add(camera);
      controls = new THREE.OrbitControls(camera);*/
    }

    function addAxisHelper() {
      var axesHelper = new THREE.AxesHelper(300, 300, 300);
      scene.add(axesHelper);
    }
  </script>

</body>

</html>
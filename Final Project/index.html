<!DOCTYPE html>
<html lang="en">


<!--
______________________________________________________________________________________________________________________
F I N A L   P R O J E C T
Computer Graphics

@author Alexander Ebner
@author Hendrik Hangen
@author Fernando GarcÃ­a
@author Marlies Wagner
  
This project is submitted by the abovementioned authors as their final project for 32501 Computer Graphics, Autumn 2018
The structure of the files and code is as follows:
  - index.html contains the HTML-Webpage and the main Javascript application
  - folder 'css' contains the css stylesheet for the HTML-Webpage 
  - folder 'js' contains all referenced scripts
  - folder 'Final Modals' ???????
  - folder 'img' contains all the textures and images used for this project

_____________________________________________________________________________________________________________________
-->


<html>

<head>
  <meta charset="utf-8" />
  <title>Final Computer Graphics Project</title>
  <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>
  <script src="js/three.js"></script>
  <script src="js/OrbitControls.js"></script>
  <script src="js/PLYLoader.js"></script>
  <script src="js/dat.gui.min.js"></script>
  <script src="js/house.js"></script>
  <script src="js/modeladder.js"></script>
  <script src="js/selector.js"></script>
  <script src="js/meshOps.js"></script>
  <script src="js/keyControls.js"></script>
  <script src="js/movingCamera.js"></script>
  <script src="js/PointerLockControls.js"></script>
  <script src="js/gui.js"></script>

  <div id="blocker">
    <div id="instructions">
      <span style="font-size:40px">Press space to play</span>
      <br /> (W, A, S, D = Move, MOUSE = Look around)
    </div>
  </div>

  <script>
    var scene, camera, cameraLight, renderer, controls;
    var element = document.body;

    createScene();
    addMovingCamera();
    animate();

    addFloor();
    addWalls();
    addDoors();
    addWindows();
    addLighting();

    buildGui();

    var resize = function () {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
      camera.updateProjectionMatrix();
      renderer.render(scene, camera);
    }

    var updateLoop = function () {
      //controls.update();
      renderer.render(scene, camera);
      requestAnimationFrame(updateLoop);
    };

    var render = function () {
      requestAnimationFrame(render);
      renderer.render(scene, camera);
    };

    function createScene() {
      scene = new THREE.Scene();
      scene.background = new THREE.Color(0x93C47D);
      renderer = new THREE.WebGLRenderer({
        antialias: true
      });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.shadowMap.enabled = true;
      renderer.shadowMap.type = THREE.PCFSoftShadowMap;
      document.body.appendChild(renderer.domElement);
    }

    requestAnimationFrame(updateLoop);
    window.addEventListener('resize', resize);

    /*  function addCamera() {
      var ratio = window.innerWidth / window.innerHeight;
      camera = new THREE.PerspectiveCamera(45, ratio, 0.1, 2000);
      camera.position.set(60, 25, 60);
      cameraLight = new THREE.PointLight(new THREE.Color(1, 1, 1), (0.2));
      camera.add(cameraLight);
      scene.add(camera);
      controls = new THREE.OrbitControls(camera);
      
    /*  var ratio = window.innerWidth / window.innerHeight;
      camera = new THREE.PerspectiveCamera(45, ratio, 0.1, 2000);
      camera.position.set(60, 25, 60);
      cameraLight = new THREE.PointLight(new THREE.Color(1, 1, 1), (0.2));
      camera.add(cameraLight);
      scene.add(camera);
      controls = new THREE.OrbitControls(camera);
	}
	*/

    function addAxisHelper() {
      var axesHelper = new THREE.AxesHelper(300, 300, 300);
      scene.add(axesHelper);
    }
  </script>

</body>

</html>